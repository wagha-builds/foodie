@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --button-outline: rgba(0,0,0, .10);
    --badge-outline: rgba(0,0,0, .05);
    --opaque-button-border-intensity: -8;
    --elevate-1: rgba(0,0,0, .03);
    --elevate-2: rgba(0,0,0, .08);
    --background: 0 0% 100%;
    --foreground: 0 0% 9%;
    --border: 0 0% 91%;
    --card: 0 0% 98%;
    --card-foreground: 0 0% 9%;
    --card-border: 0 0% 95%;
    --sidebar: 0 0% 96%;
    --sidebar-foreground: 0 0% 9%;
    --sidebar-border: 0 0% 93%;
    --sidebar-primary: 25 95% 48%;
    --sidebar-primary-foreground: 25 20% 98%;
    --sidebar-accent: 0 0% 92%;
    --sidebar-accent-foreground: 0 0% 9%;
    --sidebar-ring: 25 95% 48%;
    --popover: 0 0% 94%;
    --popover-foreground: 0 0% 9%;
    --popover-border: 0 0% 91%;
    --primary: 25 95% 48%;
    --primary-foreground: 25 20% 98%;
    --secondary: 0 0% 90%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 2% 88%;
    --muted-foreground: 0 2% 30%;
    --accent: 25 12% 86%;
    --accent-foreground: 25 12% 15%;
    --destructive: 0 84% 45%;
    --destructive-foreground: 0 15% 98%;
    --input: 0 0% 75%;
    --ring: 25 95% 48%;
    --chart-1: 25 85% 42%;
    --chart-2: 15 75% 38%;
    --chart-3: 35 70% 35%;
    --chart-4: 10 65% 40%;
    --chart-5: 20 60% 36%;
    --font-sans: Open Sans, sans-serif;
    --font-serif: Georgia, serif;
    --font-mono: Menlo, monospace;
    --radius: .5rem;
    --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);
    --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);
    --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);
    --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);
    --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);
    --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);
    --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);
    --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);
    --tracking-normal: 0em;
    --spacing: 0.25rem;

    /* Fallbacks */
    --sidebar-primary-border: hsl(var(--sidebar-primary));
    --sidebar-accent-border: hsl(var(--sidebar-accent));
    --primary-border: hsl(var(--primary));
    --secondary-border: hsl(var(--secondary));
    --muted-border: hsl(var(--muted));
    --accent-border: hsl(var(--accent));
    --destructive-border: hsl(var(--destructive));
  }

  .dark {
    --button-outline: rgba(255,255,255, .10);
    --badge-outline: rgba(255,255,255, .05);
    --opaque-button-border-intensity: 9;
    --elevate-1: rgba(255,255,255, .04);
    --elevate-2: rgba(255,255,255, .09);
    --background: 0 0% 8%;
    --foreground: 0 0% 96%;
    --border: 0 0% 18%;
    --card: 0 0% 10%;
    --card-foreground: 0 0% 96%;
    --card-border: 0 0% 13%;
    --sidebar: 0 0% 12%;
    --sidebar-foreground: 0 0% 96%;
    --sidebar-border: 0 0% 15%;
    --sidebar-primary: 25 95% 52%;
    --sidebar-primary-foreground: 25 15% 98%;
    --sidebar-accent: 0 0% 16%;
    --sidebar-accent-foreground: 0 0% 96%;
    --sidebar-ring: 25 95% 52%;
    --popover: 0 0% 14%;
    --popover-foreground: 0 0% 96%;
    --popover-border: 0 0% 17%;
    --primary: 25 95% 52%;
    --primary-foreground: 25 15% 98%;
    --secondary: 0 0% 18%;
    --secondary-foreground: 0 0% 96%;
    --muted: 0 2% 20%;
    --muted-foreground: 0 2% 75%;
    --accent: 25 8% 22%;
    --accent-foreground: 25 8% 90%;
    --destructive: 0 84% 48%;
    --destructive-foreground: 0 15% 98%;
    --input: 0 0% 30%;
    --ring: 25 95% 52%;
    --chart-1: 25 85% 65%;
    --chart-2: 15 75% 68%;
    --chart-3: 35 70% 70%;
    --chart-4: 10 65% 62%;
    --chart-5: 20 60% 66%;
    --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);
    --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);
    --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);
    --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);
    --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);
    --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);
    --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);
    --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);

    /* Fallbacks */
    --sidebar-primary-border: hsl(var(--sidebar-primary));
    --sidebar-accent-border: hsl(var(--sidebar-accent));
    --primary-border: hsl(var(--primary));
    --secondary-border: hsl(var(--secondary));
    --muted-border: hsl(var(--muted));
    --accent-border: hsl(var(--accent));
    --destructive-border: hsl(var(--destructive));
  }

  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

/* FIX: Custom styles are moved outside of any @layer.
  This prevents Tailwind from trying to generate variants (like 'after:') 
  for these complex selectors, which was causing the build error.
*/

/* Hide ugly search cancel button in Chrome until we can style it properly */
input[type="search"]::-webkit-search-cancel-button {
  @apply hidden;
}

/* Placeholder styling for contentEditable div */
[contenteditable][data-placeholder]:empty::before {
  content: attr(data-placeholder);
  color: hsl(var(--muted-foreground));
  pointer-events: none;
}

/* Escape hatches */
.no-default-hover-elevate {}
.no-default-active-elevate {}

/**
 * Toggleable backgrounds
 */
.toggle-elevate::before,
.toggle-elevate-2::before {
  content: "";
  pointer-events: none;
  position: absolute;
  inset: 0px;
  border-radius: inherit;
  z-index: -1;
}

.toggle-elevate.toggle-elevated::before {
  background-color: var(--elevate-2);
}

/* If there's a 1px border, adjust the inset */
.border.toggle-elevate::before {
  inset: -1px;
}

/* Hover/Active states */
.hover-elevate:not(.no-default-hover-elevate),
.active-elevate:not(.no-default-active-elevate),
.hover-elevate-2:not(.no-default-hover-elevate),
.active-elevate-2:not(.no-default-active-elevate) {
  position: relative;
  z-index: 0;
}

.hover-elevate:not(.no-default-hover-elevate)::after,
.active-elevate:not(.no-default-active-elevate)::after,
.hover-elevate-2:not(.no-default-hover-elevate)::after,
.active-elevate-2:not(.no-default-active-elevate)::after {
  content: "";
  pointer-events: none;
  position: absolute;
  inset: 0px;
  border-radius: inherit;
  z-index: 999;
}

.hover-elevate:hover:not(.no-default-hover-elevate)::after,
.active-elevate:active:not(.no-default-active-elevate)::after {
  background-color: var(--elevate-1);
}

.hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
.active-elevate-2:active:not(.no-default-active-elevate)::after {
  background-color: var(--elevate-2);
}

/* Adjust insets for borders on interactions */
.border.hover-elevate:not(.no-hover-interaction-elevate)::after,
.border.active-elevate:not(.no-active-interaction-elevate)::after,
.border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,
.border.active-elevate-2:not(.no-active-interaction-elevate)::after {
  inset: -1px;
}